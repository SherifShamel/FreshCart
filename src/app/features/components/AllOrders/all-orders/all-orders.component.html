<div class="my-container">
    <div class="my-3">
        <h1 class="text-2xl text-main font-bold text-center">Your Previous Orders</h1>
    </div>


    @for (order of userOrders; track order._id) {
    <div class=" border-r-emerald-700">
        @for (cartItem of userOrders[$index].cartItems; track $index) {
        <article class="flex flex-col md:flex-row my-3 overflow-hidden rounded-lg shadow-sm transition hover:shadow-lg"
            [routerLink]="['/p_details', cartItem.product.id]">
            <div class="w-1/3">
                <img [alt]="cartItem.product.title" [src]="cartItem.product.imageCover"
                    class="h-56 w-full object-contain" />
            </div>

            <div class="bg-white p-4 sm:p-6 w-2/3">
                <time datetime="2022-10-10" class="block text-xs text-gray-500"> {{order.createdAt | date :'short'}}
                </time>

                <a class="cursor-pointer" [routerLink]="['/p_details',cartItem._id]">
                    <h3 class="mt-0.5 text-lg text-gray-900">Title: {{cartItem.product.title}}</h3>
                </a>

                <p class="mt-2 line-clamp-3 text-sm/relaxed text-gray-500">
                    Price: {{cartItem.price| currency:'GBP'}}
                </p>
                <p class="mt-2 line-clamp-3 text-sm/relaxed text-gray-500">
                    Category: {{cartItem.product.category.name}}
                </p>
            </div>
        </article>
        }
    </div>
    }
    <h2 class="text-xl text-main font-bold text-center my-4">Total Orders: {{userOrders.length}}</h2>
</div>